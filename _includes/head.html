<head>
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    {{ site.title }}{% if page.label %} | {{ page.label }}{% elsif page.title %} | {{ page.title }}{% endif %}
  </title>

  <!-- canonical should be absolute -->
  <link rel="canonical" href="{{ page.url | absolute_url }}" />

  <!-- internal assets should be relative -->
  <!-- Use inline data URI favicon to avoid missing file errors -->
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==">
  <link rel="stylesheet" href="{{ '/assets/styles.css' | relative_url }}">

  <script src="{{ '/assets/jquery-3.2.1.min.js' | relative_url }}"></script>
  <!-- Mirador 3 via unpkg CDN -->
  <link rel="stylesheet" href="https://unpkg.com/mirador@3/dist/mirador.min.css">
  <script src="https://unpkg.com/mirador@3/dist/mirador.min.js"></script>
  
  <!-- Umami Analytics - Free, open source, privacy-friendly analytics -->
  <!-- After deploying Umami, replace YOUR_UMAMI_URL and YOUR_WEBSITE_ID with your actual values -->
  <script async src="https://umami-production-4d64.up.railway.app/script.js" data-website-id="8bc98449-add7-458f-99ac-5c3f4803f4f9"></script>
  <script>
    // Analytics helper function - wraps Umami for compatibility with tracking code
    window.plausible = function(eventName, eventData) {
      if (window.umami) {
        // Umami format: umami.track(eventName, properties)
        // Convert from Plausible format {props: {...}} to Umami format {...}
        const data = eventData?.props || eventData || {};
        umami.track(eventName, data);
      }
    };
  </script>
</head>